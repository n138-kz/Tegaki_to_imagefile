<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=500,initial-scale=1">
    <title>Tegaki test</title>
    <style media="screen">
      #canvas0_wrapper
      {
        width: 500px;
        margin:0 auto;
      }

      #canvas0
      {
        background-color: "#fff";
        border: 1px solid black;
      }
    </style>
    <script type="text/javascript" src="canvas0.js"></script>
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        var canvas = 'canvas0';
        init_canvas(canvas);

        var canvas = document.getElementById(canvas),
            ctx = canvas.getContext('2d');
        document.getElementById('canvas0_reset').addEventListener('click', function() {
          ctx.clearRect(0, 0, ctx.canvas.clientWidth, ctx.canvas.clientHeight);
        });
        document.getElementById('canvas0_toPNG').addEventListener('click', function() {
          var png = canvas.toDataURL();
          console.log(png);

          var myMain = document.getElementById("canvas0_wrapper");
          var newImg = document.createElement('img');
          newImg.setAttribute('src', png);
          myMain.parentNode.insertBefore(newImg, myMain.nextElementSibling);
        });
      });
    </script>
  </head>
  <body>
    <!-- https://www.kabanoki.net/934/ -->
    <div id="canvas0_wrapper">
      <canvas id="canvas0" width="500" height="500"></canvas>
      <button type="button" id="canvas0_reset">クリア</button>
      <button type="button" id="canvas0_toPNG">画像化</button>
    </div>
    <p><a href="https://github.com/n138-kz/Tegaki_to_imagefile">https://github.com/n138-kz/Tegaki_to_imagefile</a></p>
  </body>
</html>
